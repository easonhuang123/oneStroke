{"version":3,"sources":["webpack:///onestroke.js","webpack:///webpack/bootstrap 2ff5cd24dd871ce0a079","webpack:///./src/main.js","webpack:///./src/onestroke.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_onestroke","_onestroke2","obj","default","config","lineColor","vertexColor","strokeColor","activeVertexColor","lines","x1","y1","x2","y2","_classCallCheck","instance","Constructor","TypeError","OneStroke","this","app","PIXI","appication","transparent","view","document","getElementById","appendChild","stage","nodes","validNodes","baseLines","baseNodes","lineWidth","vertexRadius","touchRadius","currNode","currStroke","finger","initStroke","initBoard","getValidNodes","render","touchstart","touchmove","touchend","touchstartHandle","bind","touchmoveHandle","touchendHandle","addEventListener","length","_lines$i","push","checkAndGetNode","x","y","_this","map","_ref","line","Graphics","lineStyle","moveTo","lineTo","closePath","addChild","_ref2","node","beginFill","drawCircle","_this2","forEach","e","_e$touches$","touches","pageX","pageY","clientX","clientY","drawLine","check","setCurrNode","_e$touches$2","Math","pow","_finger","points","graphicsData","shape","curr","_currNode"],"mappings":"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","file":"onestroke.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _onestroke = __webpack_require__(2);\n\nvar _onestroke2 = _interopRequireDefault(_onestroke);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n    lineColor: 0xe2e2e2,\n    vertexColor: 0x90b34f,\n    strokeColor: 0x445624,\n    activeVertexColor: 0x90b34f,\n    lines: [{ \"x1\": 375, \"y1\": 366, \"x2\": 200, \"y2\": 916 }, { \"x1\": 200, \"y1\": 916, \"x2\": 664, \"y2\": 576 }, { \"x1\": 664, \"y1\": 576, \"x2\": 88, \"y2\": 576 }, { \"x1\": 88, \"y1\": 576, \"x2\": 556, \"y2\": 916 }, { \"x1\": 556, \"y1\": 916, \"x2\": 375, \"y2\": 366 }]\n};\n\nvar onestroke = new _onestroke2.default(config);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OneStroke = function () {\n    function OneStroke(config) {\n        _classCallCheck(this, OneStroke);\n\n        var lineColor = config.lineColor,\n            vertexColor = config.vertexColor,\n            strokeColor = config.strokeColor,\n            activeVertexColor = config.activeVertexColor,\n            lines = config.lines;\n\n        this.app = new PIXI.appication(375, 603, {\n            transparent: true\n        });\n        this.view = document.getElementById('onestroke');\n        this.view.appendChild(this.app.view);\n        this.stage = this.app.stage;\n        this.lines = [];\n        this.nodes = [];\n        this.validNodes = [];\n        this.baseLines = [];\n        this.baseNodes = [];\n        this.lineColor = lineColor;\n        this.vertexColor = vertexColor;\n        this.strokeColor = strokeColor;\n        this.activeVertexColor = activeVertexColor;\n        this.lineWidth = 10;\n        this.vertexRadius = 9;\n        this.touchRadius = 15;\n        this.currNode = null;\n        this.currStroke = null;\n        this.finger = {};\n\n        this.initStroke(lines);\n        this.initBoard();\n        this.getValidNodes();\n        this.render();\n\n        this.touchstart = 'touchstart' || 'mousedown';\n        this.touchmove = 'touchmove' || 'mousemove';\n        this.touchend = 'touchend' || 'mouseup';\n        this.touchstartHandle = this.touchstartHandle.bind(this);\n        this.touchmoveHandle = this.touchmoveHandle.bind(this);\n        this.touchendHandle = this.touchendHandle.bind(this);\n        this.view.addEventListener(this.touchstart, this.touchstartHandle);\n        this.view.addEventListener(this.touchmove, this.touchmoveHandle);\n        this.view.addEventListener(this.touchend, this.touchendHandle);\n    }\n\n    OneStroke.prototype.initStroke = function initStroke(lines) {\n        for (var i = 0, l = lines.length; i < l; i++) {\n            var _lines$i = lines[i],\n                x1 = _lines$i.x1,\n                y1 = _lines$i.y1,\n                x2 = _lines$i.x2,\n                y2 = _lines$i.y2;\n\n            this.lines.push({\n                x1: x1 / 2,\n                y1: y1 / 2,\n                x2: x2 / 2,\n                y2: y2 / 2\n            });\n            if (!this.checkAndGetNode(x1 / 2, y1 / 2)) {\n                this.nodes.push({\n                    x: x1 / 2,\n                    y: y1 / 2,\n                    validNodes: []\n                });\n            }\n            if (!this.checkAndGetNode(x2 / 2, y2 / 2)) {\n                this.nodes.push({\n                    x: x2 / 2,\n                    y: y2 / 2,\n                    validNodes: []\n                });\n            }\n        }\n    };\n\n    OneStroke.prototype.initBoard = function initBoard() {\n        var _this = this;\n\n        this.baseLines = [this.lines.map(function (_ref) {\n            var x1 = _ref.x1,\n                x2 = _ref.x2,\n                y1 = _ref.y1,\n                y2 = _ref.y2;\n\n            var line = new PIXI.Graphics().lineStyle(_this.lineWidth, _this.lineColor, 1).moveTo(x1, y1).lineTo(x2, y2).closePath();\n            _this.stage.addChild(line);\n            return line;\n        })];\n        this.baseNodes = this.nodes.map(function (_ref2) {\n            var x = _ref2.x,\n                y = _ref2.y;\n\n            var node = new PIXI.Graphics().beginFill(_this.vertexColor, 1).drawCircle(0, 0, _this.vertexRadius);\n            node.x = x;\n            node.y = y;\n            _this.stage.addChild(node);\n            return node;\n        });\n        this.validNodes = this.nodes;\n    };\n\n    OneStroke.prototype.getValidNodes = function getValidNodes() {\n        var _this2 = this;\n\n        this.nodes.forEach(function (node) {\n            _this2.lines.forEach(function (line) {\n                if (line.x1 === node.x && line.y1 === node.y && _this2.checkAndGetNode(line.x2, line.y2)) {\n                    node.validNodes.push(_this2.checkAndGetNode(line.x2, line.y2));\n                }\n                if (line.x2 === node.x && line.y2 === node.y && _this2.checkAndGetNode(line.x1, line.y1)) {\n                    node.validNodes.push(_this2.checkAndGetNode(line.x1, line.y1));\n                }\n            });\n        });\n    };\n\n    OneStroke.prototype.checkAndGetNode = function checkAndGetNode(x, y) {\n        if (this.nodes.length) {\n            for (var i = 0; i < this.nodes.length; i++) {\n                if (this.nodes[i].x === x && this.nodes[i].y === y) {\n                    return this.nodes[i];\n                }\n            }\n        }\n        return false;\n    };\n\n    OneStroke.prototype.render = function render() {\n        this.app.render(this.stage);\n    };\n\n    OneStroke.prototype.touchstartHandle = function touchstartHandle(e) {\n        if (this.touchstart === 'touchstart') {\n            var _e$touches$ = e.touches[0],\n                x = _e$touches$.pageX,\n                y = _e$touches$.pageY;\n        } else {\n            var x = e.clientX,\n                y = e.clientY;\n        }\n        this.finger = { x: x, y: y };\n        if (this.currStroke) {\n            this.drawLine();\n            if (this.check(x, y)) {\n                this.setCurrNode(this.check(x, y));\n            }\n        } else {\n            if (this.check(x, y)) {\n                this.setCurrNode(this.check(x, y));\n            }\n        }\n    };\n\n    OneStroke.prototype.touchmoveHandle = function touchmoveHandle(e) {\n        if (this.touchstart === 'touchstart') {\n            var _e$touches$2 = e.touches[0],\n                x = _e$touches$2.pageX,\n                y = _e$touches$2.pageY;\n        } else {\n            var x = e.clientX,\n                y = e.clientY;\n        }\n        this.finger = { x: x, y: y };\n        if (this.currStroke || this.currNode) {\n            this.drawLine();\n            if (this.check(x, y)) {\n                this.setCurrNode(this.check(x, y));\n            }\n        }\n    };\n\n    OneStroke.prototype.touchendHandle = function touchendHandle() {\n        if (!this.currStroke) {\n            this.currNode = null;\n        }\n    };\n\n    OneStroke.prototype.check = function check(x, y) {\n        var l = this.validNodes.length;\n        if (l) {\n            for (var i = 0; i < l; i++) {\n                if (Math.pow(x - this.validNodes[i].x, 2) + Math.pow(y - this.validNodes[i].y, 2) <= Math.pow(this.touchRadius, 2)) {\n                    return this.validNodes[i];\n                }\n            }\n        }\n        return false;\n    };\n\n    OneStroke.prototype.drawLine = function drawLine() {\n        var _finger = this.finger,\n            x = _finger.x,\n            y = _finger.y;\n\n\n        var points = this.currStroke.graphicsData[0].shape.points;\n        points[2] = x;\n        points[3] = y;\n        this.render();\n    };\n\n    OneStroke.prototype.setCurrNode = function setCurrNode(curr) {\n        var _currNode = this.currNode = curr,\n            x = _currNode.x,\n            y = _currNode.y;\n\n        this.validNodes = this.currNode.validNodes;\n        var node = new PIXI.Graphics().beginFill(this.activeVertexColor, 1).drawCircle(0, 0, this.vertexRadius);\n        node.x = x;\n        node.y = y;\n        this.stage.addChild(node);\n\n        this.currStroke = new PIXI.Graphics().lineStyle(this.lineWidth, this.strokeColor, 1).moveTo(x, y).lineTo(x, y);\n        this.stage.addChild(this.currStroke);\n        this.render();\n    };\n\n    return OneStroke;\n}();\n\nexports.default = OneStroke;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// onestroke.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2ff5cd24dd871ce0a079","import OneStroke from './onestroke'\r\n\r\nlet config = {\r\n    lineColor: 0xe2e2e2, \r\n    vertexColor: 0x90b34f, \r\n    strokeColor: 0x445624, \r\n    activeVertexColor: 0x90b34f, \r\n    lines: [\r\n        {\"x1\": 375, \"y1\": 366, \"x2\": 200, \"y2\": 916},\r\n        {\"x1\": 200, \"y1\": 916, \"x2\": 664, \"y2\": 576}, \r\n        {\"x1\": 664, \"y1\": 576, \"x2\": 88, \"y2\": 576}, \r\n        {\"x1\": 88, \"y1\": 576, \"x2\": 556, \"y2\": 916}, \r\n        {\"x1\": 556, \"y1\": 916, \"x2\": 375, \"y2\": 366}\r\n    ]\r\n}\r\n\r\nlet onestroke = new OneStroke(config)\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export default class OneStroke {\r\n    constructor(config) {\r\n        let { lineColor, vertexColor, strokeColor, activeVertexColor, lines } = config\r\n        this.app = new PIXI.appication(375,603,\r\n            {\r\n\t\t\t\ttransparent: true\r\n\t\t\t}\r\n        )\r\n        this.view = document.getElementById('onestroke')\r\n        this.view.appendChild(this.app.view)\r\n        this.stage = this.app.stage\r\n        this.lines = []\r\n        this.nodes = []\r\n        this.validNodes = []\r\n        this.baseLines = []\r\n        this.baseNodes = []\r\n        this.lineColor = lineColor\r\n        this.vertexColor = vertexColor\r\n        this.strokeColor = strokeColor\r\n        this.activeVertexColor = activeVertexColor\r\n        this.lineWidth = 10\r\n        this.vertexRadius = 9\r\n        this.touchRadius = 15\r\n        this.currNode = null\r\n        this.currStroke = null\r\n        this.finger = {}\r\n\r\n        this.initStroke(lines)\r\n        this.initBoard()\r\n        this.getValidNodes()\r\n        this.render()\r\n\r\n        this.touchstart = 'touchstart' || 'mousedown'\r\n        this.touchmove = 'touchmove' || 'mousemove'\r\n        this.touchend = 'touchend' || 'mouseup'\r\n        this.touchstartHandle = this.touchstartHandle.bind(this)\r\n        this.touchmoveHandle = this.touchmoveHandle.bind(this)\r\n        this.touchendHandle = this.touchendHandle.bind(this)\r\n        this.view.addEventListener(this.touchstart, this.touchstartHandle)\r\n        this.view.addEventListener(this.touchmove, this.touchmoveHandle)\r\n        this.view.addEventListener(this.touchend, this.touchendHandle)\r\n    }\r\n\r\n    initStroke(lines) {\r\n        for (let i = 0, l = lines.length; i < l; i++) {\r\n            let { x1, y1, x2, y2 } = lines[i]\r\n            this.lines.push({\r\n                x1: x1 / 2,\r\n                y1: y1 / 2,\r\n                x2: x2 / 2,\r\n                y2: y2 / 2\r\n            })\r\n            if (!this.checkAndGetNode(x1 / 2, y1 / 2)) {\r\n                this.nodes.push({\r\n                    x: x1 / 2,\r\n                    y: y1 / 2,\r\n                    validNodes: []\r\n                })\r\n            }\r\n            if (!this.checkAndGetNode(x2 / 2, y2 / 2)) {\r\n                this.nodes.push({\r\n                    x: x2 / 2,\r\n                    y: y2 / 2,\r\n                    validNodes: []\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    initBoard() {\r\n        this.baseLines = [this.lines.map(({ x1, x2, y1, y2 }) => {\r\n            let line = new PIXI.Graphics()\r\n                .lineStyle(this.lineWidth, this.lineColor, 1)\r\n                .moveTo(x1, y1)\r\n                .lineTo(x2, y2)\r\n                .closePath()\r\n            this.stage.addChild(line)\r\n            return line\r\n        })]\r\n        this.baseNodes = this.nodes.map(({ x, y }) => {\r\n            let node = new PIXI.Graphics()\r\n                .beginFill(this.vertexColor, 1)\r\n                .drawCircle(0, 0, this.vertexRadius)\r\n            node.x = x\r\n            node.y = y\r\n            this.stage.addChild(node)\r\n            return node\r\n        })\r\n        this.validNodes = this.nodes\r\n    }\r\n\r\n    getValidNodes() {\r\n        this.nodes.forEach((node) => {\r\n            this.lines.forEach((line) => {\r\n                if (line.x1 === node.x && line.y1 === node.y && this.checkAndGetNode(line.x2, line.y2)) {\r\n                    node.validNodes.push(this.checkAndGetNode(line.x2, line.y2))\r\n                }\r\n                if (line.x2 === node.x && line.y2 === node.y && this.checkAndGetNode(line.x1, line.y1)) {\r\n                    node.validNodes.push(this.checkAndGetNode(line.x1, line.y1))\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    checkAndGetNode(x, y) {\r\n        if (this.nodes.length) {\r\n            for (let i = 0; i < this.nodes.length; i++){\r\n                if (this.nodes[i].x === x && this.nodes[i].y === y) {\r\n                    return this.nodes[i]\r\n                }\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    render() {\r\n\t\tthis.app.render(this.stage)\r\n    }\r\n\r\n    touchstartHandle(e) {\r\n        if (this.touchstart === 'touchstart') {\r\n            var {pageX: x, pageY: y} = e.touches[0]\r\n        } else {\r\n            var {clientX: x, clientY: y} = e\r\n        }\r\n        this.finger = { x, y }\r\n        if (this.currStroke) {\r\n            this.drawLine()\r\n            if (this.check(x, y)) {\r\n                this.setCurrNode(this.check(x, y))\r\n            }\r\n        } else {\r\n            if (this.check(x, y)) {\r\n                this.setCurrNode(this.check(x, y))\r\n            }\r\n        }\r\n    }\r\n\r\n    touchmoveHandle(e) {\r\n        if (this.touchstart === 'touchstart') {\r\n            var {pageX: x, pageY: y} = e.touches[0]\r\n        } else {\r\n            var {clientX: x, clientY: y} = e\r\n        }\r\n        this.finger = { x, y }\r\n        if (this.currStroke || this.currNode) {\r\n            this.drawLine()\r\n            if (this.check(x, y)) {\r\n                this.setCurrNode(this.check(x, y))\r\n            }\r\n        }\r\n    }\r\n\r\n    touchendHandle() {\r\n        if (!this.currStroke) {\r\n            this.currNode = null\r\n        }\r\n    }\r\n\r\n    check(x, y) {\r\n        let l = this.validNodes.length\r\n        if (l) {\r\n            for (let i = 0; i < l; i++){\r\n                if (Math.pow(x - this.validNodes[i].x,2) + Math.pow(y - this.validNodes[i].y,2) <= Math.pow(this.touchRadius,2)) {\r\n                    return this.validNodes[i]\r\n                }\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    drawLine() {\r\n        let { x, y } = this.finger\r\n\r\n        let points = this.currStroke.graphicsData[0].shape.points\r\n        points[2] = x\r\n        points[3] = y\r\n        this.render()\r\n    }\r\n\r\n    setCurrNode(curr) {\r\n        let { x, y } = this.currNode = curr\r\n        this.validNodes = this.currNode.validNodes\r\n        let node = new PIXI.Graphics()\r\n            .beginFill(this.activeVertexColor, 1)\r\n            .drawCircle(0, 0, this.vertexRadius)\r\n        node.x = x\r\n        node.y = y\r\n        this.stage.addChild(node)\r\n\r\n        this.currStroke = new PIXI.Graphics()\r\n            .lineStyle(this.lineWidth, this.strokeColor, 1)\r\n            .moveTo(x, y)\r\n            .lineTo(x, y)\r\n        this.stage.addChild(this.currStroke)\r\n        this.render()\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/onestroke.js"],"sourceRoot":""}